<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‚ù§Ô∏è –î–ª—è —Ç–µ–±—è</title>
<style>
*{box-sizing:border-box;}
body{margin:0;font-family:Arial,sans-serif;background:
  linear-gradient(rgba(0,0,0,.35), rgba(0,0,0,.35)),
  url('https://images.pexels.com/photos/5874620/pexels-photo-5874620.jpeg') center/cover no-repeat;height:100vh;display:flex;justify-content:center;align-items:center;overflow:hidden;color:#fff;text-align:center;}
#app{width:100%;height:100%;position:relative;}
.center{position:absolute;inset:0;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px;}

.heart-wrapper{cursor:pointer;}
.heart{
  width: 80px;
  height: 74px;
  transform-origin: center;
  filter: drop-shadow(0 0 6px #ff6b81);
  cursor: pointer;
}
.heart.pulsing{animation:pulse 1s ease-in-out infinite;}
@keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.08)}100%{transform:scale(1)}}

.message{font-size:26px;animation:fade .6s;max-width:90%;margin-top:12px;}
@keyframes fade{from{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}

.bonus{
  display:flex;
  flex-direction:column;
  align-items:center;
}

body {
  -webkit-tap-highlight-color: transparent; /* —É–±–∏—Ä–∞–µ—Ç —Å–∏–Ω–∏–π —Ñ–æ–Ω –Ω–∞ –∫–ª–∏–∫–∞—Ö */
  -webkit-user-select: none; /* –∑–∞–ø—Ä–µ—â–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.heart-wrapper, .heart, .bonus button, .overlay button {
  -webkit-tap-highlight-color: transparent;
}


.photo-stack{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;}
.photo{max-width:55vw;max-height:40vh;border-radius:14px;box-shadow:0 10px 25px rgba(0,0,0,.45);opacity:0;transform:scale(0.6);transition:.9s;}
.photo.first{opacity:1;transform:scale(1);}
.photo.second.show{opacity:1;transform:scale(1);filter:blur(0);}

.overlay{position:absolute;inset:0;background:rgba(0,0,0,.92);display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:26px;z-index:10;animation:fade .6s;padding:20px;}
.overlay small{opacity:.7;margin-top:12px;}

.overlay button,
.bonus button{
  margin-top:20px;
  padding:12px 28px;
  border:none;
  border-radius:12px;
  background:linear-gradient(45deg,#ff6b81,#ff4757);
  color:#fff;
  font-size:18px;
  cursor:pointer;
  transition:transform .25s;
  box-shadow:0 6px 20px rgba(0,0,0,.45);
  font-weight:bold;
}

.overlay button:hover,
.bonus button:hover{transform:scale(1.05);}
.overlay button:active,
.bonus button:active{transform:scale(0.95);}

.hint{
  position:absolute;
  top:18%;
  font-size:20px;
  opacity:.85;
  animation: hintPulse 1.2s ease-in-out infinite;
  pointer-events:none;
}

@keyframes hintPulse{
  0%{transform:scale(1);opacity:.6}
  50%{transform:scale(1.08);opacity:1}
  100%{transform:scale(1);opacity:.6}
}

.petal{position:absolute;top:-50px;font-size:28px;animation:petal 6s linear infinite;pointer-events:none;}
@keyframes petal{from{transform:translateY(0)}to{transform:translateY(110vh) rotate(360deg)}}

.game{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:20px;}
.letter-game{width:52px;height:52px;background:rgba(255,255,255,.25);border-radius:10px;display:flex;justify-content:center;align-items:center;font-size:26px;font-weight:bold;cursor:pointer;transition:.3s;}
.letter-game.correct{background:#2ecc71;}
.letter-game.wrong{background:#e74c3c;}

.final-text{font-size:34px;margin-top:20px;animation:fade 1s;text-shadow:0 0 20px #fff;}

.firework{position:absolute;inset:0;pointer-events:none;overflow:hidden;z-index:20;}
.spark{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  animation:spark 1.2s linear infinite;
  box-shadow: 0 0 8px currentColor;
}

@keyframes spark{from{transform:translate(0,0)}to{transform:translate(var(--x),var(--y)) scale(0)}}

@media (max-width:600px){
  .photo{max-width:42vw;max-height:32vh}
  .message{font-size:20px}
  .heart{font-size:64px}
}
#lockScreen{
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#0b0b0b,#1a1a1a);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:99999;
}

.lockBox{
  background:rgba(255,255,255,.05);
  padding:18px 22px;   /* ‚Üê –ú–ï–ù–¨–®–ï */
  border-radius:16px;
  text-align:center;
  box-shadow:0 0 25px rgba(255,0,100,.35);
  backdrop-filter: blur(10px);
  color:#fff;
  max-width:260px;    /* ‚Üê –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —à–∏—Ä–∏–Ω—É */
  width:100%;
}

.lockBox h2{
  margin-bottom:10px;
}

.lockBox input{
  width:100%;
  padding:7px 10px;
  border-radius:10px;
  border:none;
  margin:8px 0 10px;
  font-size:14px;
}

.lockBox button{
  padding:10px 26px;
  border:none;
  border-radius:12px;
  background:linear-gradient(45deg,#ff6b81,#ff4757);
  color:#fff;
  font-size:16px;
  cursor:pointer;
}

#errorText{
  color:#ff6b81;
  font-size:14px;
  margin-top:10px;
  display:none;
}

.flash{
  position:fixed;
  inset:0;
  background:white;
  opacity:0;
  pointer-events:none;
  z-index:999999;
  animation: flash 3.5s infinite;
}

@keyframes flash{
  0%{opacity:0}
  15%{opacity:0.12}
  20%{opacity:0}
  45%{opacity:0.18}
  50%{opacity:0}
  75%{opacity:0.1}
  80%{opacity:0}
  100%{opacity:0}
}


</style>
</head>
<body>

<div id="lockScreen">
  <div class="lockBox">
    <h2>üíñ –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è</h2>
    <p>–í–≤–µ–¥–∏ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –ø–∞—Ä–æ–ª—å</p>
    <input type="password" id="passwordInput" placeholder="–ü–∞—Ä–æ–ª—å">
    <button onclick="checkPassword()">–í–æ–π—Ç–∏</button>
    <div id="errorText">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å üò¢</div>
  </div>
</div>

<div id="app">
  <div class="center" id="center"></div>
</div>

<audio id="boom" src="fireworks.mp3" loop></audio>
<audio id="bgm" src="music.mp3" loop></audio>
<audio id="clickSound" src="click.mp3"></audio>


<script>
let step=0;
let scale=1;
let locked=false;
let hintClicks=0;
let hintRemoved=false;
let musicStarted = false;

const center=document.getElementById('center');
const boom=document.getElementById('boom');
const bgm = document.getElementById('bgm');
const PASSWORD = "–≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞"; // ‚Üê –ó–î–ï–°–¨ –°–¢–ê–í–ò–®–¨ –°–í–û–ô –ü–ê–†–û–õ–¨

function checkPassword(){
  const input = document.getElementById("passwordInput");
  const error = document.getElementById("errorText");

  if(input.value === PASSWORD){
    document.getElementById("lockScreen").style.display="none";
	bgm.volume = 0.2;
    bgm.play().catch(()=>{});
  } else {
    error.style.display="block";
  }
}


function showHeart(){
  center.innerHTML = `
  <div class='heart-wrapper'>
    <svg id='heart' class='heart' viewBox='0 0 32 29.6'>
      <defs>
        <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#ff3b30"/>
          <stop offset="100%" stop-color="#ff6b81"/>
        </linearGradient>
      </defs>
      <path d="M23.6,0c-2.9,0-5.6,1.6-7.6,4.1C13.9,1.6,11.2,0,8.3,0
        C3.7,0,0,3.7,0,8.3c0,9.2,16,21.3,16,21.3s16-12.1,16-21.3C32,3.7,28.3,0,23.6,0z" fill="url(#grad)"/>
    </svg>
  </div>
`;


  // –≤—Å—Ç–∞–≤–ª—è–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ –Ω–∞—á–∞–ª–µ
  if(!hintRemoved && !document.getElementById('hint')){
    center.insertAdjacentHTML('afterbegin', `<div id="hint" class="hint">–ù–∞–∂–∏–º–∞–π –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æ ‚ù§Ô∏è –¢–æ–ª—å–∫–æ –Ω–µ —Ç–æ—Ä–æ–ø–∏—Å—å!</div>`);
  }

  const heart=document.getElementById('heart');
  const wrapper=heart.parentElement;
  wrapper.style.transform = `scale(${scale})`;

  wrapper.onclick = () => {
    if(locked) return;
    locked = true;

	// –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –∫–ª–∏–∫–µ ‚ù§Ô∏è
    if (navigator.vibrate) {
     navigator.vibrate(80);
    }

	// –º–∏–Ω–∏-–∑–≤—É–∫ –∫–ª–∏–∫–∞
    const clickSound = document.getElementById('clickSound');
    clickSound.currentTime = 0; // —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã—Å—Ç—Ä–æ –∫–ª–∏–∫–∞—Ç—å –ø–æ–¥—Ä—è–¥
    clickSound.play().catch(()=>{});
	clickSound.volume = 0.2;  

    // —Å—á–µ—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –ø–æ–¥—Å–∫–∞–∑–∫–∏
    hintClicks++;
    if(hintClicks >= 2){
      const h = document.getElementById('hint');
      if(h) h.remove();
      hintRemoved = true;
	  
    }


    scale += 0.08;
    wrapper.style.transform = `scale(${scale})`;

    heart.classList.add('pulsing');
    setTimeout(() => heart.classList.remove('pulsing'), 1000);

    dropOneRose();

    setTimeout(() => {
      next();
      locked = false;
    }, 300);
  };
}

function next(){
  step++;
  if([10,20,30,40,50].includes(step)){
    locked=true;
    special(step);
  }
}

function special(n){
  switch(n){
    case 10: bonus('https://i.imgur.com/f3gSJBj.jpeg','–ü–æ–¥–æ–∂–¥–∏‚Ä¶ –∞ –æ–Ω–∞ —Ç—É—Ç –æ—Ç–∫—É–¥–∞?','https://i.imgur.com/jS0C7o4.jpeg'); break;
    case 20: bonus('https://i.imgur.com/D0BGQXH.jpeg','–ú—ã—ã—ã—ã. –ö–ª–∞—Å—Å–Ω–æ –¥–∞? –°–ø–∞—Å–∏–±–æ —á–∞—Ç—É GPT üòÅ'); break;
    case 30: error404(); break;
    case 40: deepMessage(); break;
    case 50: game(); break;
  }
}

function bonus(img1,text,img2=null){
  center.innerHTML=`
    <div class="bonus">
      <div class="photo-stack">
        <img src="${img1}" class="photo first">
      </div>
      <div class="message">${text}</div>
      <button style="display:none">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </div>
  `;
  if(step === 20){
  const img = document.querySelector('.photo.first');
  img.style.maxWidth = '75vw';   // —à–∏—Ä–∏–Ω–∞ –±–æ–ª—å—à–µ
  img.style.maxHeight = '55vh';  // –≤—ã—Å–æ—Ç–∞ –±–æ–ª—å—à–µ
}

  if(img2){
    const stack=document.querySelector('.photo-stack');
    setTimeout(()=>{
      const img=document.createElement('img');
      img.src=img2;
      img.className='photo second';
      stack.appendChild(img);
      setTimeout(()=>img.classList.add('show'),50);
    },1000);
  }

  const btn=center.querySelector('button');
  setTimeout(()=>btn.style.display='block',5000);
  btn.onclick=()=>{locked=false;showHeart()};
}

function error404(){
  center.innerHTML=`
    <div class='overlay'>
      –û—à–∏–±–∫–∞ 404<br>
      <small>–°–∏—Å—Ç–µ–º–∞ –¥–∞–ª–∞ —Å–±–æ–π. –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —á—É–≤—Å—Ç–≤.</small>
      <button style='display:none'>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
    </div>
  `;

  const btn=center.querySelector('button');
  setTimeout(()=>btn.style.display='block',5000);

  btn.onclick = () => {
    // ‚ù§Ô∏è –ü–æ–¥–Ω–∏–º–∞—é—â–∏–µ—Å—è —Å–µ—Ä–¥–µ—á–∫–∏
    for (let i = 0; i < 20; i++) {
        const heart = document.createElement('div');
        heart.innerText = '‚ù§Ô∏è';
        heart.style.position = 'fixed';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.bottom = '0';
        const size = 14 + Math.random() * 16;
        heart.style.fontSize = size + 'px';
        heart.style.pointerEvents = 'none';
        heart.style.opacity = 1;
        document.body.appendChild(heart);

        const duration = 4000 + Math.random() * 3000;
        const xMove = (Math.random() - 0.5) * 100;
        const yMove = - (100 + Math.random() * 50);

        heart.animate([
            { transform: 'translate(0,0)', opacity: 1 },
            { transform: `translate(${xMove}px, ${yMove}vh)`, opacity: 0 }
        ], {
            duration: duration,
            easing: 'linear',
            fill: 'forwards'
        });

        setTimeout(() => heart.remove(), duration);
    }

    locked = false;
    showHeart();
  };
}

function deepMessage(){
  center.innerHTML=`<div class='overlay'>–ê–¥–µ–ª–∏–Ω, —Ç—ã —Å—Ç–∞–ª–∞ –¥–ª—è –º–µ–Ω—è —á–µ–º-—Ç–æ –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª—å—à–∏–º, —á–µ–º –ø—Ä–æ—Å—Ç–æ –¥–µ–≤—É—à–∫–∞ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏.<br><small>–Ø –ø—Ä–æ—Å—Ç–æ —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã —Ç—ã —ç—Ç–æ –∑–Ω–∞–ª–∞.</small><button style='display:none'>–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button></div>`;
  const btn=center.querySelector('button');
  setTimeout(()=>btn.style.display='block',5000);
  btn.onclick=()=>{locked=false;showHeart()};
}

function dropOneRose(){
  const p=document.createElement('div');
  p.className='petal';
  p.innerText='üå∏';
  p.style.left=Math.random()*100+'%';
  document.body.appendChild(p);
  setTimeout(()=>p.remove(),7000);
}

function game(){
  const target='–õ–Æ–ë–õ–Æ–î–ò–ú–£';
  let index=0;
  center.innerHTML=`<div class='message'>–ü–æ–ø—Ä–æ–±—É–π –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—Ä–∞–∑—É =)</div><div class='game' id='game'></div>`;
  const box=document.getElementById('game');

  target.split('').sort(()=>Math.random()-0.5).forEach(l=>{
    const el=document.createElement('div');
    el.className='letter-game';
    el.textContent=l;
    el.onclick=()=>{
      if(l===target[index]){
        el.classList.add('correct');
        index++;
        if(index===target.length) finishGame();
      }else{
        el.classList.add('wrong');
        setTimeout(()=>el.classList.remove('wrong'),400);
      }
    };
    box.appendChild(el);
  });
}

function finishGame(){
  center.innerHTML=`<div class='final-text'>–õ–Æ–ë–õ–Æ –î–ò–ú–£ </div>`;
  setTimeout(finalScreen,1500);
}

function finalScreen(){
  const overlay=document.createElement('div');
  overlay.className='overlay';
  overlay.innerHTML=`<div class='final-text'>–ò –Ø –¢–ï–ë–Ø –õ–Æ–ë–õ–Æ ‚ù§Ô∏è</div>`;
  document.getElementById('app').appendChild(overlay);

  boom.volume = 1;	
  boom.play();
  fireworks();
  startFlash();
}

function fireworks(){
  const colors = ['#ff3b30', '#ffd700', '#4facfe', '#ffffff', '#ff6b81'];

  const fw = document.createElement('div');
  fw.className = 'firework';
  document.body.appendChild(fw);

  setInterval(() => {
    const x = Math.random() * window.innerWidth;
    const y = Math.random() * window.innerHeight / 2;

    for(let i = 0; i < 36; i++){
      const s = document.createElement('div');
      s.className = 'spark';
      s.style.left = x + 'px';
      s.style.top = y + 'px';

      const color = colors[Math.floor(Math.random() * colors.length)];
      s.style.color = color;
      s.style.background = color;

      s.style.setProperty('--x', (Math.random()*300 - 150) + 'px');
      s.style.setProperty('--y', (Math.random()*300 - 150) + 'px');

      fw.appendChild(s);
      setTimeout(() => s.remove(), 900);
    }
  }, 450);
}

function startFlash(){
  const flash=document.createElement('div');
  flash.className='flash';
  document.body.appendChild(flash);
}

showHeart();
</script>
</body>
</html>








